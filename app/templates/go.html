{% extends "master.html" %}
{% block title %}Results{% endblock %}

{% block message %}
    <hr />
    <h4 class="text-center">MESSAGE</h4>
    <p class="text-center"><i>{{query}}</i></p>
{% endblock %}

{% block content %}
    <h1 class="text-center">Result</h1>
    <div class="row">
        <div class="col-lg-6">
            <ul class="list-group mx-auto flex">
            {% for category, classification in classification_result.items() %}
                {% if classification > 0.8 %}
                    <li class="list-group-item list-group-item-success text-center icofont-rounded-right">{{category.replace('_', ' ').title()}}</li>
                {% else %}
                    <li class="list-group-item list-group-item-dark text-center icofont-rounded-right">{{category.replace('_', ' ').title()}}</li>
                {% endif %}
            {% endfor %}
        </ul>
        </div>

        <div class="col-lg-6">
            {% for category, classification in classification_result.items() %}
            {% if classification > 0.8 %}
            <div id="{{id}}"></div>
            {% endif %}
            {% endfor %}
        </div>
        
    </div>
      
      <script type="text/javascript">
    const graphs = {{graphJSON | safe}};
    const ids = {{ids | safe}};
    for(let i in graphs) {
        Plotly.plot(ids[i], graphs[i].data, graphs[i].layout);
    }
</script>  

{% endblock %}
